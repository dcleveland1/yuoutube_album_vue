(function(){"use strict";var e={6386:function(e,t,o){var n=o(9242),a=o(3396),l=o(7718),i=o(3140);function u(e,t,o,n,u,r){const s=(0,a.up)("router-view");return(0,a.wg)(),(0,a.j4)(l.q,null,{default:(0,a.w5)((()=>[(0,a.Wm)(i.O,null,{default:(0,a.w5)((()=>[(0,a.Wm)(s)])),_:1})])),_:1})}var r={name:"App",data:()=>({})},s=o(89);const c=(0,s.Z)(r,[["render",u]]);var d=c,f=o(2483),m=o(4870),v=o(7139),p=o(65),w=o(4161);const h="AIzaSyBcyNpi_qemL3wORY3da5RN_dPAqKQ6uuU";class g{getVideoData(e){return w.Z.get(`https://www.googleapis.com/youtube/v3/videos?id=${e}&key=${h}&part=snippet&part=contentDetails`)}}var b=new g;const _=e=>{const t=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/,o=e.match(t);return!(!o||11!==o[7].length)&&o[7]},y=e=>{console.log(e);const t=/^PT(?:(\d+)H)?(?:(\d+)M)?(?:(\d+)S)?$/;let o,n="00",a="00",l="00";if(t.test(e)){const i=t.exec(e);i[1]&&(n=i[1].length>1?i[1]:`0${i[1]}`),i[2]&&(a=i[2].length>1?i[2]:`0${i[2]}`),i[3]&&(l=i[3].length>1?i[3]:`0${i[3]}`),o=`${n}:${a}:${l}`}return o},W=e=>e.data.items.map((e=>({title:e.snippet.title,description:e.snippet.description,thumbnail:e.snippet.thumbnails.high,duration:y(e.contentDetails.duration),id:e.id})));var k=W,O=o(4287),V=o(7795);console.log("AIzaSyBcyNpi_qemL3wORY3da5RN_dPAqKQ6uuU");const D={apiKey:"AIzaSyBcyNpi_qemL3wORY3da5RN_dPAqKQ6uuU",authDomain:"album-384820.firebaseapp.com",projectId:"youtube-album-384820",storageBucket:"youtube-album-384820.appspot.com",messagingSenderId:"196471053380",appId:"1:196471053380:web:a3f88420c4930ba09f7011"},j=(0,V.ZF)(D),A=(0,O.ad)(j);var C=A;class T{constructor(){this.db=C}async getDataFromCollection(){console.log(this.db);const e=await(0,O.PL)((0,O.hJ)(this.db,"video")),t=e.docs.map((e=>e.data()));return t}async addVideoToCollection(e){await(0,O.ET)((0,O.hJ)(this.db,"video"),e)}async deleteDocumentById(e){console.log("ID",e);const t=(0,O.IO)((0,O.hJ)(this.db,"video"),(0,O.ar)("id","==",e));console.log("!q",t);const o=await(0,O.PL)(t);o.forEach((e=>{console.log(e.ref),(0,O.oe)(e.ref)}))}}var E=T,P=o(5101),U=o(1489),x=o(1888),I=o(6572),S=o(1334),H=o(3601),L=o(6824),z=o(8521),q=o(9234),B=o(3369),N=o(1285),R=o(7471),$=o(5030);const K={class:"subtitle-2 mr-3 text-white"},M=["src"];var F={__name:"CardVideoComponent",props:{item:Object},setup(e){const t=e,o=(0,p.oR)(),l=(0,m.iH)(!1),i=(0,m.iH)(!1),u=(0,m.iH)(t.item),r=new E;(0,a.bv)((()=>{console.log(t.item)}));const s=async e=>{const t=await o.dispatch("deleteVideoAction",e);await r.deleteDocumentById(e),i.value=!1,console.log(t)};return(e,t)=>((0,a.wg)(),(0,a.j4)(U._,null,{default:(0,a.w5)((()=>[(0,a.Wm)(L.o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(z.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(x.Z,{onClick:t[1]||(t[1]=e=>l.value=!0)},{default:(0,a.w5)((()=>[(0,a.Wm)(N.f,{height:"200",src:u.value.thumbnail.url,cover:"",gradient:"to bottom,rgb(0,0,0,0.7) , rgba(0,0,0,0.1)"},{default:(0,a.w5)((()=>[(0,a.Wm)(R.i,{color:"rgba(0, 0, 0, 0)",theme:"dark",dense:"",absolute:""},{append:(0,a.w5)((()=>[(0,a.Wm)(P.T,{onClick:t[0]||(t[0]=(0,n.iM)((e=>i.value=!0),["stop"])),icon:"mdi-close"})])),default:(0,a.w5)((()=>[(0,a.Wm)($.q,{class:"text-h6"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,v.zw)(u.value.title),1)])),_:1})])),_:1}),(0,a.Wm)(L.o,{class:"fill-height",align:"end",justify:"end"},{default:(0,a.w5)((()=>[(0,a.Wm)(z.D,{class:"text-right"},{default:(0,a.w5)((()=>[(0,a._)("div",K,(0,v.zw)(u.value.duration),1)])),_:1})])),_:1})])),_:1},8,["src"])])),_:1})])),_:1})])),_:1}),(0,a._)("template",null,[(0,a.Wm)(H.B,{modelValue:i.value,"onUpdate:modelValue":t[4]||(t[4]=e=>i.value=e),persistent:"",width:"auto"},{default:(0,a.w5)((()=>[(0,a.Wm)(U._,null,{default:(0,a.w5)((()=>[(0,a.Wm)(I.E,{class:"text-h5"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Eliminar video ")])),_:1}),(0,a.Wm)(x.Z,null,{default:(0,a.w5)((()=>[(0,a.Uk)("¿Esta seguro de eliminar el video? ")])),_:1}),(0,a.Wm)(S.h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(q.C),(0,a.Wm)(P.T,{color:"grey-darken-1",variant:"text",onClick:t[2]||(t[2]=e=>i.value=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)(" Cancelar ")])),_:1}),(0,a.Wm)(P.T,{color:"red-darken-1",variant:"text",onClick:t[3]||(t[3]=e=>s(u.value.id))},{default:(0,a.w5)((()=>[(0,a.Uk)(" Confirmar ")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(H.B,{modelValue:l.value,"onUpdate:modelValue":t[5]||(t[5]=e=>l.value=e),width:"70%",height:"auto"},{default:(0,a.w5)((()=>[(0,a.Wm)(U._,null,{default:(0,a.w5)((()=>[(0,a.Wm)(B.K,null,{default:(0,a.w5)((()=>[(0,a.Wm)(L.o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(z.D,{md:"6",sm:"12",offset:"0"},{default:(0,a.w5)((()=>[(0,a._)("iframe",{title:"item.title",style:{width:"100%",height:"100%"},src:`https://www.youtube.com/embed/${u.value.id}`,allow:"autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,8,M)])),_:1}),(0,a.Wm)(z.D,{md:"6",sm:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(L.o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(z.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,v.zw)(u.value.title),1)])),_:1})])),_:1}),(0,a.Wm)(L.o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(z.D,{cols:"12 max_height"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,v.zw)(u.value.description),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])])),_:1}))}};const Z=F;var Y=Z,J=o(9671),Q=o(165);const G=e=>((0,a.dD)("data-v-bd0613ba"),e=e(),(0,a.Cn)(),e),X={class:"searchBox"},ee=G((()=>(0,a._)("span",{class:"title"}," Añadir nuevo video ",-1)));var te={__name:"SearchComponent",setup(e){const t=(0,m.iH)("https://www.youtube.com/watch?v=2gliGzb2_1I&t=21s&ab_channel=TheJazzHopCaf%C3%A9"),o=(0,p.oR)(),n=(0,m.iH)(!1),l=(0,m.iH)(""),i=(0,m.iH)("success"),u=(0,m.iH)(3e3),r=(0,a.Fl)((()=>o.getters.videos));console.log(r.value);const s=new E,c=async()=>{console.log("asdkjnaskjn");const e=await s.getDataFromCollection();console.log(e),await o.dispatch("initVideoListAction",e),r.value=e};(0,a.bv)((()=>{c()}));const d=async()=>{try{const e=_(t.value),a=await b.getVideoData(e),u=k(a),c=await o.dispatch("addVideoAction",u[0]),d=await s.addVideoToCollection(u[0]);console.log(d),n.value=!0,l.value=c,i.value="success",console.log(c),console.log(r.value)}catch(e){n.value=!0,l.value=e.message,i.value="dangewr",console.error(e.message)}};return(e,o)=>((0,a.wg)(),(0,a.iD)("div",X,[(0,a.Wm)(B.K,null,{default:(0,a.w5)((()=>[(0,a.Wm)(L.o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(z.D,{cols:"6",offset:"3"},{default:(0,a.w5)((()=>[(0,a.Wm)(L.o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(z.D,{cols:"12"},{default:(0,a.w5)((()=>[ee])),_:1})])),_:1}),(0,a.Wm)(L.o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(z.D,{cols:"8",class:"search_bar"},{default:(0,a.w5)((()=>[(0,a.Wm)(Q.h,{label:"Agregar url",rules:e.rules,"hide-details":"auto",modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=e=>t.value=e),class:"search_input"},null,8,["rules","modelValue"])])),_:1}),(0,a.Wm)(z.D,{cols:"4",class:"search_bar"},{default:(0,a.w5)((()=>[(0,a.Wm)(P.T,{onClick:d,class:"fill_content"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Añadir ")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,a.Wm)(L.o,null,{default:(0,a.w5)((()=>[(0,a.Wm)(z.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(L.o,null,{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,m.SU)(r),((e,t)=>((0,a.wg)(),(0,a.j4)(z.D,{md:"3",sm:"12",key:t},{default:(0,a.w5)((()=>[(0,a.Wm)(Y,{item:e},null,8,["item"])])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1}),(0,a._)("template",null,[(0,a.Wm)(J.v,{modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=e=>n.value=e),color:i.value,timeout:u.value},{default:(0,a.w5)((()=>[(0,a.Uk)((0,v.zw)(l.value),1)])),_:1},8,["modelValue","color","timeout"])])]))}};const oe=(0,s.Z)(te,[["__scopeId","data-v-bd0613ba"]]);var ne=oe;const ae={class:"home"};var le={__name:"HomeView",setup(e){return(e,t)=>((0,a.wg)(),(0,a.iD)("div",ae,[(0,a.Wm)(ne)]))}};const ie=le;var ue=ie;const re=[{path:"/",name:"home",component:ue},{path:"/about",name:"about",component:()=>o.e(443).then(o.bind(o,5796))}],se=(0,f.p7)({history:(0,f.PO)("/"),routes:re});var ce=se,de=(0,p.MT)({state:{videos:[]},getters:{videos:e=>e.videos},mutations:{initVideoList(e,t){e.videos=t},addVideo(e,t){e.videos=[...e.videos,t]},deleteVideo(e,t){e.videos=e.videos.filter((e=>e.id!==t))}},actions:{async addVideoAction({state:e,commit:t},o){console.log("VIDEOPAYLOAD",o);try{const n=o.id,a=e.videos.some((e=>e.id===n));if(a)throw new Error("El video ya existe en la lista");return t("addVideo",o),console.log("STATE",e.videos),"El video fue agregado exitosamente"}catch(n){throw new Error(n)}},async initVideoListAction({commit:e},t){e("initVideoList",t)},async deleteVideoAction({commit:e},t){e("deleteVideo",t)}},modules:{}}),fe=(o(9773),o(4061)),me=o(8600),ve=o(8957),pe=(0,ve.Rd)({components:fe,directives:me});async function we(){const e=await o.e(461).then(o.t.bind(o,3657,23));e.load({google:{families:["Roboto:100,300,400,500,700,900&display=swap"]}})}we(),(0,n.ri)(d).use(ce).use(de).use(pe).provide("db",C).mount("#app")}},t={};function o(n){var a=t[n];if(void 0!==a)return a.exports;var l=t[n]={exports:{}};return e[n](l,l.exports,o),l.exports}o.m=e,function(){var e=[];o.O=function(t,n,a,l){if(!n){var i=1/0;for(c=0;c<e.length;c++){n=e[c][0],a=e[c][1],l=e[c][2];for(var u=!0,r=0;r<n.length;r++)(!1&l||i>=l)&&Object.keys(o.O).every((function(e){return o.O[e](n[r])}))?n.splice(r--,1):(u=!1,l<i&&(i=l));if(u){e.splice(c--,1);var s=a();void 0!==s&&(t=s)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[n,a,l]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};o.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var l=Object.create(null);o.r(l);var i={};e=e||[null,t({}),t([]),t(t)];for(var u=2&a&&n;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){i[e]=function(){return n[e]}}));return i["default"]=function(){return n},o.d(l,i),l}}(),function(){o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){o.f={},o.e=function(e){return Promise.all(Object.keys(o.f).reduce((function(t,n){return o.f[n](e,t),t}),[]))}}(),function(){o.u=function(e){return"js/"+{443:"about",461:"webfontloader"}[e]+"."+{443:"5e56ca10",461:"d45be858"}[e]+".js"}}(),function(){o.miniCssF=function(e){}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="vue_test:";o.l=function(n,a,l,i){if(e[n])e[n].push(a);else{var u,r;if(void 0!==l)for(var s=document.getElementsByTagName("script"),c=0;c<s.length;c++){var d=s[c];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+l){u=d;break}}u||(r=!0,u=document.createElement("script"),u.charset="utf-8",u.timeout=120,o.nc&&u.setAttribute("nonce",o.nc),u.setAttribute("data-webpack",t+l),u.src=n),e[n]=[a];var f=function(t,o){u.onerror=u.onload=null,clearTimeout(m);var a=e[n];if(delete e[n],u.parentNode&&u.parentNode.removeChild(u),a&&a.forEach((function(e){return e(o)})),t)return t(o)},m=setTimeout(f.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=f.bind(null,u.onerror),u.onload=f.bind(null,u.onload),r&&document.head.appendChild(u)}}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){o.p="/"}(),function(){var e={143:0};o.f.j=function(t,n){var a=o.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var l=new Promise((function(o,n){a=e[t]=[o,n]}));n.push(a[2]=l);var i=o.p+o.u(t),u=new Error,r=function(n){if(o.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var l=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;u.message="Loading chunk "+t+" failed.\n("+l+": "+i+")",u.name="ChunkLoadError",u.type=l,u.request=i,a[1](u)}};o.l(i,r,"chunk-"+t,t)}},o.O.j=function(t){return 0===e[t]};var t=function(t,n){var a,l,i=n[0],u=n[1],r=n[2],s=0;if(i.some((function(t){return 0!==e[t]}))){for(a in u)o.o(u,a)&&(o.m[a]=u[a]);if(r)var c=r(o)}for(t&&t(n);s<i.length;s++)l=i[s],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(c)},n=self["webpackChunkvue_test"]=self["webpackChunkvue_test"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(6386)}));n=o.O(n)})();
//# sourceMappingURL=app.95039495.js.map